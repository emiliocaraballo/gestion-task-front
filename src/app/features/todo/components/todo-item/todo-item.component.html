<div class="todo-item" 
     [class.completed]="todo.completed"
     [class.priority-high]="todo.priority === 'high'"
     [class.priority-urgent]="todo.priority === 'urgent'"
     [class.priority-medium]="todo.priority === 'medium'"
     [class.priority-low]="todo.priority === 'low'">
    
    <div class="todo-content">
        <label class="todo-checkbox">
            <input
                type="checkbox"
                [checked]="todo.completed"
                (change)="onToggleComplete()"
                [attr.aria-label]="'Marcar como ' + (todo.completed ? 'incompleta' : 'completa')"
            >
            <span class="checkmark"></span>
        </label>

        <div class="todo-info">
            <div class="todo-header">
                <h3 class="todo-title">{{ todo.title }}</h3>
                <div class="todo-badges">
                    <span class="priority-badge" [class]="'priority-' + (todo.priority || 'medium')">
                        {{ getPriorityLabel(todo.priority || 'medium') }}
                    </span>
                    <span class="category-badge" [class]="'category-' + (todo.category || 'work')">
                        {{ getCategoryLabel(todo.category || 'work') }}
                    </span>
                </div>
            </div>
            
            <p *ngIf="todo.description" class="todo-description">{{ todo.description }}</p>
            
            <div class="todo-meta">
                <div class="meta-item" *ngIf="todo.dueDate">
                    <span class="meta-icon">üìÖ</span>
                    <span class="meta-text" [class.overdue]="isOverdue()">
                        {{ formatDate(todo.dueDate) }}
                    </span>
                </div>
                
                <div class="meta-item" *ngIf="todo.createdAt">
                    <span class="meta-icon">üïê</span>
                    <span class="meta-text">
                        Creada {{ getRelativeTime(todo.createdAt) }}
                    </span>
                </div>

                <span class="status-badge" [class.completed]="todo.completed">
                    {{ todo.completed ? '‚úì Completada' : '‚ó¶ Pendiente' }}
                </span>
            </div>
        </div>
    </div>

    <div class="todo-actions">
        <button 
            class="action-btn edit-btn"
            (click)="onEdit()"
            aria-label="Editar tarea"
            title="Editar tarea">
            <span class="action-icon">‚úèÔ∏è</span>
            <span class="action-text">Editar</span>
        </button>
        <button 
            class="action-btn delete-btn"
            (click)="onDelete()"
            aria-label="Eliminar tarea"
            title="Eliminar tarea">
            <span class="action-icon">üóëÔ∏è</span>
            <span class="action-text">Eliminar</span>
        </button>
    </div>
</div>