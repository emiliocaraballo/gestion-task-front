<section class="tasks-section">
    <div class="container">
        <div class="section-header">
        <div class="section-title">
            <h3>Mis Tareas</h3>
            <span class="task-count">{{ getTotalTasks() | async }} tareas</span>
        </div>
        <div class="section-filters">
            <div class="filter-tabs">
                <button 
                    class="filter-tab" 
                    [class.active]="isFilterActive('all')"
                    (click)="setFilter('all')">
                    Todas
                </button>
                <button 
                    class="filter-tab"
                    [class.active]="isFilterActive('pending')"
                    (click)="setFilter('pending')">
                    Pendientes
                </button>
                <button 
                    class="filter-tab"
                    [class.active]="isFilterActive('completed')"
                    (click)="setFilter('completed')">
                    Completadas
                </button>
                <button 
                    class="filter-tab"
                    [class.active]="isFilterActive('urgent')"
                    (click)="setFilter('urgent')">
                    Urgentes
                </button>
            </div>
                <div class="view-options">
                    <button 
                        class="view-btn" 
                        [class.active]="isViewActive('grid')"
                        (click)="setView('grid')"
                        title="Vista de tarjetas">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                        </svg>
                    </button>
                    <button 
                        class="view-btn" 
                        [class.active]="isViewActive('kanban')"
                        (click)="setView('kanban')"
                        title="Vista Kanban">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Vista de Grid (actual) -->
        <app-todo-list 
            *ngIf="currentView === 'grid'"
            (editTodo)="onEditTodo($event)">
        </app-todo-list>
        
        <!-- Vista Kanban -->
        <div *ngIf="currentView === 'kanban'">
            <app-kanban-board 
                *ngIf="todos$ | async as todos"
                [todos]="todos"
                (todoUpdated)="onTodoUpdated($event)"
                (todoEdit)="onEditTodo($event)">
            </app-kanban-board>
        </div>
    </div>
</section>
